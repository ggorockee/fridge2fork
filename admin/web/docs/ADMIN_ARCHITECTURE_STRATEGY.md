# 🏛️ Admin Backend Architecture Strategy

## 문제 정의 (Problem)
`server` 폴더의 FastAPI 구현에 관리자 API를 **통합할 것인가, 아니면 별도 프로젝트로 분리할 것인가**에 대한 아키텍처 결정 사항을 기술합니다.

---

### 💡 비교: 통합(Integrated) vs. 분리(Separate)

| 항목 (Criteria) | ✅ 통합 방식 (Integrated) | ❌ 분리 방식 (Separate) |
| :--- | :--- | :--- |
| **개발 속도** | 🚀 **빠름**: 기존 DB 모델, 설정을 재사용하여 신속한 개발 가능. | 🐢 **느림**: 모델/설정 중복 정의 또는 라이브러리화 필요. |
| **코드 관리** | 🧘 **단순**: 하나의 프로젝트, 하나의 배포 파이프라인. | ⚙️ **복잡**: 두 개의 프로젝트, 두 개의 파이프라인 관리 필요. |
| **보안** | ⚠️ **취약**: Public API와 Admin API가 동일 프로세스에서 실행. 하나의 취약점이 다른 쪽에 영향을 줄 수 있음. | 🛡️ **강력**: 물리적/네트워크적으로 분리. 독립적인 보안 정책 적용 가능. |
| **안정성** | 🔗 **결합**: Admin 기능 오류가 전체 서비스에 영향을 줄 수 있음. Admin을 위한 배포가 전체 서비스 중단을 야기할 수 있음. | ✨ **독립**: 서로 영향을 주지 않음. 독립적인 배포 및 확장 가능. |
| **자원 관리** | 📉 **경쟁**: Admin의 과도한 리소스 사용이 Public API 성능에 영향을 줄 수 있음. | 📈 **독립**: 독립적인 리소스를 사용하여 상호 영향 없음. |

---

### 🎯 최종 결정 및 전략 (Final Decision & Strategy)

**"시작은 통합으로, 미래는 분리를 염두에 둔 아키텍처 (Start Integrated, Design for Separation)"**

#### 1. 단기 전략 (Short-term): 통합 방식 채택
- **방법**: 기존 `server` 프로젝트 내에 관리자 API를 구현합니다.
- **이유**: 초기 개발 속도와 운영의 단순성을 확보하여 MVP를 빠르게 구축합니다. 코드 재사용의 이점을 극대화합니다.

#### 2. 장기 전략을 위한 설계 (Long-term Design)
- **방법**: 통합하더라도, 코드 레벨에서 명확하게 **관심사를 분리(Separate Concerns)**합니다.
  - `server/app/` 디렉토리 내에 `api_admin`과 같은 별도 모듈(디렉토리)을 생성합니다.
  - 모든 관리자용 엔드포인트는 `/admin` 이라는 명확한 URL 접두사(prefix)를 갖도록 API 라우터를 구성합니다.
  ```python
  # server/main.py
  from app.api_admin import router as admin_router

  app.include_router(admin_router, prefix="/admin")
  ```
- **이유**: 이처럼 논리적으로 분리해두면, 미래에 서비스가 성장하고 보안/안정성 요구가 높아졌을 때, 해당 `api_admin` 모듈을 큰 노력 없이 별도의 마이크로서비스로 분리하기 매우 용이해집니다.

### 요약
- **현재**: `server` 폴더에 **통합**하여 빠르게 개발합니다.
- **미래 대비**: 나중에 쉽게 분리할 수 있도록 코드 구조(별도 모듈, URL 접두사)를 명확히 나누어 설계합니다.
- **결론**: 이 전략은 초기 개발 속도와 장기적인 확장성 및 유지보수성 사이의 균형을 맞추는 최적의 방안입니다.
