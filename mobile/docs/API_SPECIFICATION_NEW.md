# Fridge2Fork API λ…μ„Έμ„ (μ‹¤μ  API)

## π“‹ κ°μ”

**API μ΄λ¦„**: Fridge2Fork API  
**μ„¤λ…**: λƒ‰μ¥κ³  μ¬λ£ κΈ°λ° ν•μ‹ λ μ‹ν”Ό μ¶”μ² API  
**λ²„μ „**: 1.0.0  
**OpenAPI λ²„μ „**: 3.1.0  

## π κΈ°λ³Έ μ •λ³΄

- **Base URL**: 
  - **κ°λ°**: `https://api-dev.woohalabs.com`
  - **μ΄μ**: `https://api.woohalabs.com`
- **API Prefix**: `/fridge2fork/v1`
- **Content-Type**: `application/json`

## π“ API μ—”λ“ν¬μΈνΈ λ©λ΅

### π³ λ μ‹ν”Ό κ΄€λ¦¬

#### 1. λ μ‹ν”Ό λ©λ΅ μ΅°ν
```http
GET /fridge2fork/v1/recipes/
```

**μΏΌλ¦¬ νλΌλ―Έν„°:**
- `page` (integer, optional): νμ΄μ§€ λ²νΈ (κΈ°λ³Έκ°’: 1, μµμ†: 1)
- `size` (integer, optional): νμ΄μ§€ ν¬κΈ° (κΈ°λ³Έκ°’: 10, μµμ†: 1, μµλ€: 100)
- `search` (string, optional): κ²€μƒ‰μ–΄

**μ‚¬μ© μμ‹:**
```http
GET /fridge2fork/v1/recipes/?page=1&size=20&search=κΉ€μΉμ°κ°
```

#### 2. λ μ‹ν”Ό μƒμ„Έ μ΅°ν
```http
GET /fridge2fork/v1/recipes/{recipe_id}
```

**κ²½λ΅ νλΌλ―Έν„°:**
- `recipe_id` (integer, required): λ μ‹ν”Ό ID

**μ‚¬μ© μμ‹:**
```http
GET /fridge2fork/v1/recipes/123
```

#### 3. λ μ‹ν”Ό ν†µκ³„ μ •λ³΄
```http
GET /fridge2fork/v1/recipes/stats/summary
```

**μ‚¬μ© μμ‹:**
```http
GET /fridge2fork/v1/recipes/stats/summary
```

### π¥• λƒ‰μ¥κ³ /μ‹μ¬λ£ κ΄€λ¦¬

#### 1. μ „μ²΄ μ¬λ£ λ©λ΅ μ΅°ν
```http
GET /fridge2fork/v1/fridge/ingredients
```

**μΏΌλ¦¬ νλΌλ―Έν„°:**
- `search` (string, optional): μ¬λ£λ… κ²€μƒ‰
- `page` (integer, optional): νμ΄μ§€ λ²νΈ (κΈ°λ³Έκ°’: 1, μµμ†: 1)
- `size` (integer, optional): νμ΄μ§€ ν¬κΈ° (κΈ°λ³Έκ°’: 50, μµμ†: 1, μµλ€: 200)

**μ‚¬μ© μμ‹:**
```http
GET /fridge2fork/v1/fridge/ingredients?search=ν† λ§ν† &page=1&size=100
```

#### 2. λ³΄μ  μ¬λ£λ΅ λ§λ“¤ μ μλ” λ μ‹ν”Ό μ΅°ν
```http
GET /fridge2fork/v1/fridge/recipes/by-ingredients
```

**μΏΌλ¦¬ νλΌλ―Έν„°:**
- `ingredients` (string, required): μ¬λ£ λ©λ΅ (μ‰Όν‘λ΅ κµ¬λ¶„)
- `page` (integer, optional): νμ΄μ§€ λ²νΈ (κΈ°λ³Έκ°’: 1, μµμ†: 1)
- `size` (integer, optional): νμ΄μ§€ ν¬κΈ° (κΈ°λ³Έκ°’: 10, μµμ†: 1, μµλ€: 100)

**μ‚¬μ© μμ‹:**
```http
GET /fridge2fork/v1/fridge/recipes/by-ingredients?ingredients=ν† λ§ν† ,μ–‘ν,λ§λ&page=1&size=10
```

### π”§ μ‹μ¤ν… κ΄€λ¦¬

#### 1. μ‹μ¤ν… μƒνƒ ν™•μΈ
```http
GET /fridge2fork/v1/system/health
```

#### 2. API λ²„μ „ μ •λ³΄
```http
GET /fridge2fork/v1/system/version
```

#### 3. μ§€μ› ν”λ«νΌ μ •λ³΄
```http
GET /fridge2fork/v1/system/platforms
```

#### 4. μ‹μ¤ν… ν†µκ³„ μ •λ³΄
```http
GET /fridge2fork/v1/system/stats
```

### π  κΈ°λ³Έ μ—”λ“ν¬μΈνΈ

#### 1. λ£¨νΈ μ—”λ“ν¬μΈνΈ
```http
GET /
```

#### 2. κ°„λ‹¨ν• ν—¬μ¤μ²΄ν¬
```http
GET /health
```

## π“ μ£Όμ” κΈ°λ¥λ³„ μ‚¬μ© μ‹λ‚λ¦¬μ¤

### 1. ν™ ν™”λ©΄ λ μ‹ν”Ό ν‘μ‹
1. **μΌλ° λ μ‹ν”Ό**: `GET /fridge2fork/v1/recipes/`λ΅ μΈκΈ° λ μ‹ν”Ό λ΅λ“
2. **λ§μ¶¤ μ¶”μ²**: μ‚¬μ©μκ°€ λ³΄μ ν• μ¬λ£λ΅ `GET /fridge2fork/v1/fridge/recipes/by-ingredients` νΈμ¶
3. **ν†µκ³„ ν‘μ‹**: `GET /fridge2fork/v1/recipes/stats/summary`λ΅ λ μ‹ν”Ό μ΄ κ°μ ν‘μ‹

### 2. μ‹μ¬λ£ μ¶”κ°€ ν™”λ©΄
1. **μ¬λ£ λ©λ΅**: `GET /fridge2fork/v1/fridge/ingredients`λ΅ μ „μ²΄ μ¬λ£ λ΅λ“
2. **κ²€μƒ‰ κΈ°λ¥**: search νλΌλ―Έν„°λ΅ μ¬λ£λ… κ²€μƒ‰
3. **νμ΄μ§€λ„¤μ΄μ…**: λ€λ‰ λ°μ΄ν„° ν¨μ¨μ  λ΅λ”©

### 3. λ μ‹ν”Ό μƒμ„Έ ν™”λ©΄
1. **μƒμ„Έ μ •λ³΄**: `GET /fridge2fork/v1/recipes/{recipe_id}`λ΅ λ μ‹ν”Ό μƒμ„Έ λ΅λ“
2. **μ¬λ£ μ •λ³΄**: μ‘λ‹µμ— ν¬ν•¨λ μ¬λ£ μ •λ³΄ ν™μ©

### 4. λ μ‹ν”Ό κ²€μƒ‰
1. **κ²€μƒ‰**: `GET /fridge2fork/v1/recipes/?search=κ²€μƒ‰μ–΄`λ΅ λ μ‹ν”Ό κ²€μƒ‰
2. **νμ΄μ§€λ„¤μ΄μ…**: κ²€μƒ‰ κ²°κ³Ό νμ΄μ§€λ³„ λ΅λ”©

## β μ—λ¬ μ½”λ“

### HTTP μƒνƒ μ½”λ“
- `200`: μ„±κ³µ
- `422`: μ ν¨μ„± κ²€μ‚¬ μ¤λ¥ (μλ»λ νλΌλ―Έν„°)
- `500`: μ„λ²„ λ‚΄λ¶€ μ¤λ¥

### μ—λ¬ μ‘λ‹µ ν•μ‹
```json
{
  "detail": [
    {
      "loc": ["query", "page"],
      "msg": "ensure this value is greater than or equal to 1",
      "type": "value_error.number.not_ge"
    }
  ]
}
```

## π“ νλΌλ―Έν„° μƒμ„Έ μ„¤λ…

### νμ΄μ§€λ„¤μ΄μ… νλΌλ―Έν„°
- **page**: νμ΄μ§€ λ²νΈ (1λ¶€ν„° μ‹μ‘)
- **size**: ν• νμ΄μ§€λ‹Ή μ•„μ΄ν… μ
  - λ μ‹ν”Ό: μµλ€ 100κ°
  - μ‹μ¬λ£: μµλ€ 200κ°

### κ²€μƒ‰ νλΌλ―Έν„°
- **search**: κ²€μƒ‰μ–΄ (λ¬Έμμ—΄)
  - λ μ‹ν”Ό: μ λ©, μ„¤λ…μ—μ„ κ²€μƒ‰
  - μ‹μ¬λ£: μ¬λ£λ…μ—μ„ κ²€μƒ‰

### νΉμ νλΌλ―Έν„°
- **ingredients**: μ‰Όν‘λ΅ κµ¬λ¶„λ μ¬λ£ λ©λ΅
  - μ: "ν† λ§ν† ,μ–‘ν,λ§λ,κ³ μ¶”μ¥"

## π€ μ‚¬μ© ν

1. **νμ΄μ§€λ„¤μ΄μ…**: λ€λ‰μ λ°μ΄ν„°λ¥Ό ν¨μ¨μ μΌλ΅ λ΅λ“ν•κΈ° μ„ν•΄ page, size νλΌλ―Έν„° ν™μ©
2. **κ²€μƒ‰ κΈ°λ¥**: μ‚¬μ©μκ°€ μ›ν•λ” λ μ‹ν”Όλ‚ μ¬λ£λ¥Ό λΉ λ¥΄κ² μ°ΎκΈ° μ„ν•΄ search νλΌλ―Έν„° ν™μ©
3. **λ§μ¶¤ μ¶”μ²**: μ‚¬μ©μμ λ³΄μ  μ¬λ£λ¥Ό μ‰Όν‘λ΅ κµ¬λ¶„ν•μ—¬ ingredients νλΌλ―Έν„°μ— μ „λ‹¬
4. **μ—λ¬ μ²λ¦¬**: 422 μ—λ¬ μ‹ detail λ°°μ—΄μ λ©”μ‹μ§€λ¥Ό ν™•μΈν•μ—¬ νλΌλ―Έν„° μμ •
5. **μΊμ‹±**: μμ£Ό μ‚¬μ©λλ” λ°μ΄ν„°λ” ν΄λΌμ΄μ–ΈνΈμ—μ„ μΊμ‹±ν•μ—¬ μ„±λ¥ μµμ ν™”

## π“± Flutter/Dart μ—°λ™ μμ‹

### API ν΄λΌμ΄μ–ΈνΈ μ„¤μ •
- **λ² μ΄μ¤ URL**: ν™κ²½λ³„ API μ„λ²„ URL μ„¤μ •
- **HTTP ν΄λΌμ΄μ–ΈνΈ**: Dio λλ” http ν¨ν‚¤μ§€ μ‚¬μ©
- **μ—λ¬ μ²λ¦¬**: try-catchλ΅ λ„¤νΈμ›ν¬ μ¤λ¥ μ²λ¦¬
- **νμ΄μ§€λ„¤μ΄μ…**: λ¬΄ν• μ¤ν¬λ΅¤ κµ¬ν„ μ‹ page νλΌλ―Έν„° ν™μ©

### μƒνƒ κ΄€λ¦¬
- **Riverpod**: API νΈμ¶ μƒνƒλ¥Ό AsyncValueλ΅ κ΄€λ¦¬
- **μΊμ‹±**: Providerλ΅ λ°μ΄ν„° μΊμ‹± λ° κ΄€λ¦¬
- **λ΅λ”© μƒνƒ**: AsyncValue.loading()μΌλ΅ λ΅λ”© UI ν‘μ‹

### μ‚¬μ©μ κ²½ν—
- **μ¤ν”„λΌμΈ μ§€μ›**: API μ‹¤ν¨ μ‹ λ΅μ»¬ μΊμ‹ λ°μ΄ν„° μ‚¬μ©
- **μ‹¤μ‹κ°„ κ²€μƒ‰**: κ²€μƒ‰μ–΄ μ…λ ¥ μ‹ debounce μ μ©
- **λ¬΄ν• μ¤ν¬λ΅¤**: νμ΄μ§€λ„¤μ΄μ…μ„ ν™μ©ν• λ¶€λ“λ¬μ΄ μ¤ν¬λ΅¤
