# μΉ΄ν…κ³ λ¦¬ μ λ‹ν¬ λ©λ΅ μ΅°ν API λ¬Έμ„

## κ°μ”

μ •κ·ν™”λ μ¬λ£(NormalizedIngredient)μ μΉ΄ν…κ³ λ¦¬ μ λ‹ν¬ λ©λ΅μ„ μ΅°νν•λ” API μ—”λ“ν¬μΈνΈ

## API λ…μ„Έ

### μ—”λ“ν¬μΈνΈ

```
GET /fridge2fork/v1/recipes/categories
```

### μ”μ²­ νλΌλ―Έν„°

| νλΌλ―Έν„° | νƒ€μ… | ν•„μ | κΈ°λ³Έκ°’ | μ„¤λ… |
|---------|------|------|--------|------|
| category_type | string | X | "normalized" | μΉ΄ν…κ³ λ¦¬ νƒ€μ… ("normalized", "ingredient") |

### μ‘λ‹µ μ¤ν‚¤λ§

```json
{
  "categories": [
    {
      "id": 1,
      "name": "μ΅λ¥",
      "code": "meat",
      "icon": "π¥©",
      "display_order": 1
    }
  ],
  "total": 5
}
```

#### CategoryListResponseSchema

| ν•„λ“ | νƒ€μ… | μ„¤λ… |
|------|------|------|
| categories | List[IngredientCategorySchema] | μΉ΄ν…κ³ λ¦¬ λ©λ΅ |
| total | int | μ „μ²΄ μΉ΄ν…κ³ λ¦¬ κ°μ |

#### IngredientCategorySchema (μ¬μ‚¬μ©)

| ν•„λ“ | νƒ€μ… | μ„¤λ… |
|------|------|------|
| id | int | μΉ΄ν…κ³ λ¦¬ ID |
| name | str | μΉ΄ν…κ³ λ¦¬λ… (μ: "μ΅λ¥", "μ±„μ†λ¥") |
| code | str | μΉ΄ν…κ³ λ¦¬ μ½”λ“ (μ: "meat", "vegetable") |
| icon | Optional[str] | μ•„μ΄μ½ (μ΄λ¨μ§€ λλ” μ•„μ΄μ½ ν΄λμ¤) |
| display_order | int | ν‘μ‹ μμ„ |

### λΉ„μ¦λ‹μ¤ λ΅μ§

1. **μΉ΄ν…κ³ λ¦¬ ν•„ν„°λ§**
   - `category_type`μΌλ΅ ν•„ν„°λ§ (κΈ°λ³Έ: "normalized")
   - `is_active=True`μΈ μΉ΄ν…κ³ λ¦¬λ§ μ΅°ν

2. **μ •λ ¬**
   - `display_order` μ¤λ¦„μ°¨μ
   - λ™μΌ μμ„μΌ κ²½μ° `name` μ¤λ¦„μ°¨μ

3. **μ‘λ‹µ μƒμ„±**
   - ν™μ„±ν™”λ μΉ΄ν…κ³ λ¦¬λ§ λ°ν™
   - μ „μ²΄ κ°μ ν¬ν•¨

### μ‚¬μ© μ‚¬λ΅€

**UC-1: μ•±μ—μ„ λƒ‰μ¥κ³  μ¬λ£ μ¶”κ°€ μ‹ μΉ΄ν…κ³ λ¦¬ ν•„ν„° ν‘μ‹**
- μ”μ²­: `GET /recipes/categories?category_type=normalized`
- μ‘λ‹µ: μ •κ·ν™” μ¬λ£μ© μΉ΄ν…κ³ λ¦¬ λ©λ΅ (μ΅λ¥, μ±„μ†λ¥, ν•΄μ‚°λ¬Ό λ“±)
- λ©μ : μ‚¬μ©μκ°€ μΉ΄ν…κ³ λ¦¬λ³„λ΅ μ¬λ£λ¥Ό ν•„ν„°λ§ν•μ—¬ μ„ νƒ

**UC-2: κ΄€λ¦¬μ νμ΄μ§€μ—μ„ μ¬λ£ μΉ΄ν…κ³ λ¦¬ λ©λ΅ ν‘μ‹**
- μ”μ²­: `GET /recipes/categories`
- μ‘λ‹µ: λ¨λ“  ν™μ„± μΉ΄ν…κ³ λ¦¬ λ©λ΅
- λ©μ : μ¬λ£ λ“±λ΅ μ‹ μΉ΄ν…κ³ λ¦¬ μ„ νƒ μµμ… μ κ³µ

### μ„±λ¥ μµμ ν™”

- **μΈλ±μ¤ ν™μ©**: `category_type_active_idx` μΈλ±μ¤ μ‚¬μ©
- **μΏΌλ¦¬ μµμ ν™”**: ν™μ„± μΉ΄ν…κ³ λ¦¬λ§ ν•„ν„°λ§ν•μ—¬ κ²°κ³Ό μµμ†ν™”
- **μ •λ ¬**: DB λ λ²¨μ—μ„ `display_order` μ •λ ¬

### μ—λ¬ μΌ€μ΄μ¤

| μƒν™© | HTTP μƒνƒ | μ‘λ‹µ |
|------|-----------|------|
| μ •μƒ μ΅°ν | 200 | μΉ΄ν…κ³ λ¦¬ λ©λ΅ λ°ν™ |
| μΉ΄ν…κ³ λ¦¬ μ—†μ | 200 | `{"categories": [], "total": 0}` |

### ν…μ¤νΈ μΌ€μ΄μ¤

**TC-1: μ •κ·ν™” μ¬λ£ μΉ΄ν…κ³ λ¦¬ μ΅°ν**
- Given: μ •κ·ν™” μ¬λ£ μΉ΄ν…κ³ λ¦¬ 5κ° μ΅΄μ¬ (λ¨λ‘ ν™μ„±)
- When: `GET /recipes/categories?category_type=normalized`
- Then: 5κ° μΉ΄ν…κ³ λ¦¬ λ°ν™, display_order μμ„λ΅ μ •λ ¬

**TC-2: λΉ„ν™μ„± μΉ΄ν…κ³ λ¦¬ μ μ™Έ**
- Given: μ •κ·ν™” μ¬λ£ μΉ΄ν…κ³ λ¦¬ 3κ° (2κ° ν™μ„±, 1κ° λΉ„ν™μ„±)
- When: `GET /recipes/categories?category_type=normalized`
- Then: ν™μ„± μΉ΄ν…κ³ λ¦¬ 2κ°λ§ λ°ν™

**TC-3: κΈ°λ³Έκ°’μΌλ΅ μ΅°ν**
- Given: μ •κ·ν™” μ¬λ£ μΉ΄ν…κ³ λ¦¬ 3κ°, μ¬λ£ μΉ΄ν…κ³ λ¦¬ 2κ°
- When: `GET /recipes/categories` (νλΌλ―Έν„° μ—†μ)
- Then: μ •κ·ν™” μ¬λ£ μΉ΄ν…κ³ λ¦¬ 3κ°λ§ λ°ν™

**TC-4: μΉ΄ν…κ³ λ¦¬ μ—†μ„ λ•**
- Given: μΉ΄ν…κ³ λ¦¬ 0κ°
- When: `GET /recipes/categories`
- Then: `{"categories": [], "total": 0}` λ°ν™

**TC-5: display_order μ •λ ¬ ν™•μΈ**
- Given: μΉ΄ν…κ³ λ¦¬ μμ„ [μ±„μ†λ¥(10), μ΅λ¥(1), ν•΄μ‚°λ¬Ό(5)]
- When: `GET /recipes/categories`
- Then: λ°ν™ μμ„ [μ΅λ¥(1), ν•΄μ‚°λ¬Ό(5), μ±„μ†λ¥(10)]
